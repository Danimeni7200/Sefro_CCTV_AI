<!DOCTYPE html>
<html lang="fa">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ุณุงูุงูู ุชุดุฎุต ูพูุงฺฉ</title>
  <link rel="stylesheet" href="styles.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
  <div class="app-container">
    <!-- Sidebar Navigation -->
    <aside class="sidebar">
      <div class="sidebar-header">
        <div class="logo">
          <i class="fas fa-car"></i>
          <span>ูพูุงฺฉ</span>
        </div>
      </div>
      
      <nav class="sidebar-nav">
        <a href="#" class="nav-item active" data-page="dashboard">
          <i class="fas fa-chart-line"></i>
          <span>ุฏุงุดุจูุฑุฏ</span>
        </a>
        <a href="#" class="nav-item" data-page="results">
          <i class="fas fa-list"></i>
          <span>ูุชุงุฌ</span>
        </a>
        <a href="#" class="nav-item" data-page="settings">
          <i class="fas fa-cog"></i>
          <span>ุชูุธูุงุช</span>
        </a>
        <a href="#" class="nav-item" data-page="discover">
          <i class="fas fa-search"></i>
          <span>ฺฉุดู ุฏูุฑุจู</span>
        </a>
        <a href="#" class="nav-item" data-page="livestream">
          <i class="fas fa-eye"></i>
          <span>ูุดุงูุฏู ุฒูุฏู ุฏูุฑุจูโูุง</span>
        </a>
      </nav>

      <div class="sidebar-footer">
        <div class="status-indicator">
          <span class="status-dot" id="statusDot"></span>
          <span class="status-text" id="statusText">ุงุชุตุงู</span>
        </div>
      </div>
    </aside>

    <!-- Main Content -->
    <main class="main-content">
      <!-- Header -->
      <header class="app-header">
        <div class="header-left">
          <h1 id="pageTitle">ุฏุงุดุจูุฑุฏ</h1>
          <p class="header-subtitle" id="pageSubtitle">ุฎูุด ุขูุฏุฏ ุจู ุณุงูุงูู ุชุดุฎุต ูพูุงฺฉ</p>
        </div>
        <div class="header-right">
          <div class="search-box">
            <i class="fas fa-search"></i>
            <input type="text" placeholder="ุฌุณุชุฌู..." id="searchInput">
          </div>
          <button class="btn-icon" id="refreshBtn" title="ุจุฑูุฒุฑุณุงู">
            <i class="fas fa-sync-alt"></i>
          </button>
          <button class="btn-icon" id="notificationBtn" title="ุงุทูุงุนุงุช">
            <i class="fas fa-bell"></i>
            <span class="notification-badge">3</span>
          </button>
        </div>
      </header>

      <!-- Content Area -->
      <div class="content-wrapper">
        <!-- Dashboard Page -->
        <div class="page" id="dashboard-page" style="display: block;">
          <div class="dashboard-grid">
            <!-- Stats Cards -->
            <div class="stats-container">
              <div class="stat-card">
                <div class="stat-icon" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);">
                  <i class="fas fa-car"></i>
                </div>
                <div class="stat-content">
                  <p class="stat-label">ฺฉู ูพูุงฺฉโูุง</p>
                  <h3 class="stat-value" id="totalPlates">0</h3>
                  <p class="stat-change positive">
                    <i class="fas fa-arrow-up"></i> ุงูุฑูุฒ
                  </p>
                </div>
              </div>

              <div class="stat-card">
                <div class="stat-icon" style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);">
                  <i class="fas fa-video"></i>
                </div>
                <div class="stat-content">
                  <p class="stat-label">ุฏูุฑุจูโูุง ูุนุงู</p>
                  <h3 class="stat-value" id="activeCameras">0</h3>
                  <p class="stat-change positive">
                    <i class="fas fa-arrow-up"></i> ุขููุงู
                  </p>
                </div>
              </div>

              <div class="stat-card">
                <div class="stat-icon" style="background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);">
                  <i class="fas fa-check-circle"></i>
                </div>
                <div class="stat-content">
                  <p class="stat-label">ุฏูุช ุชุดุฎุต</p>
                  <h3 class="stat-value" id="accuracy">0%</h3>
                  <p class="stat-change positive">
                    <i class="fas fa-arrow-up"></i> ุจูุชุฑ
                  </p>
                </div>
              </div>

              <div class="stat-card">
                <div class="stat-icon" style="background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%);">
                  <i class="fas fa-tachometer-alt"></i>
                </div>
                <div class="stat-content">
                  <p class="stat-label">ุณุฑุนุช ูพุฑุฏุงุฒุด</p>
                  <h3 class="stat-value" id="processingSpeed">0ms</h3>
                  <p class="stat-change positive">
                    <i class="fas fa-arrow-down"></i> ุณุฑุนโุชุฑ
                  </p>
                </div>
              </div>
            </div>

            <!-- Charts Section -->
            <div class="charts-section">
              <div class="chart-card">
                <div class="chart-header">
                  <h3>ุชุดุฎุตโูุง ุงูุฑูุฒ</h3>
                  <div class="chart-controls">
                    <button class="chart-btn active">ุฑูุฒ</button>
                    <button class="chart-btn">ููุชู</button>
                    <button class="chart-btn">ูุงู</button>
                  </div>
                </div>
                <div class="chart-placeholder" id="detectionChart">
                  <canvas id="detectionCanvas"></canvas>
                </div>
              </div>

              <div class="chart-card">
                <div class="chart-header">
                  <h3>ุชูุฒุน ุฏูุฑุจูโูุง</h3>
                </div>
                <div class="chart-placeholder" id="cameraChart">
                  <canvas id="cameraCanvas"></canvas>
                </div>
              </div>
            </div>

            <!-- Recent Results -->
            <div class="recent-results">
              <div class="section-header">
                <h3>ุขุฎุฑู ูุชุงุฌ</h3>
                <a href="#" class="view-all">ูุดุงูุฏู ููู</a>
              </div>
              <div class="results-list" id="recentResultsList">
                <!-- Results will be populated here -->
              </div>
            </div>
          </div>
        </div>

        <!-- Results Page -->
        <div class="page" id="results-page">
          <div class="results-container">
            <div class="results-header">
              <div class="filter-group">
                <input type="text" placeholder="ุฌุณุชุฌู ูพูุงฺฉ..." class="filter-input" id="plateSearch">
                <select class="filter-select" id="cameraFilter">
                  <option value="">ููู ุฏูุฑุจูโูุง</option>
                </select>
                <input type="date" class="filter-input" id="dateFilter">
              </div>
              <button class="btn btn-primary" id="exportBtn">
                <i class="fas fa-download"></i> ุฏุงูููุฏ
              </button>
            </div>

            <div class="table-container">
              <table class="results-table">
                <thead>
                  <tr>
                    <th>ุฒูุงู</th>
                    <th>ุฏูุฑุจู</th>
                    <th>ูพูุงฺฉ</th>
                    <th>ุงุทููุงู</th>
                    <th>ูููุนุช</th>
                    <th>ุนููุงุช</th>
                  </tr>
                </thead>
                <tbody id="resultsTableBody">
                  <!-- Results will be populated here -->
                </tbody>
              </table>
            </div>

            <div class="pagination">
              <button class="pagination-btn" id="prevBtn">ูุจู</button>
              <div class="pagination-info" id="paginationInfo">ุตูุญู 1</div>
              <button class="pagination-btn" id="nextBtn">ุจุนุฏ</button>
            </div>
          </div>
        </div>

        <!-- Settings Page -->
        <div class="page" id="settings-page">
          <div class="settings-container">
            <div class="settings-section">
              <h3 class="section-title">ุชูุธูุงุช ุณุฑูุณ</h3>
              <div class="settings-group">
                <label class="setting-label">ุขุฏุฑุณ ุณุฑูุณ ููุด ูุตููุน</label>
                <div class="input-group">
                  <input type="text" id="aiHostInput" class="form-input" placeholder="http://127.0.0.1:8000">
                  <button class="btn btn-secondary" id="testConnectionBtn">
                    <i class="fas fa-plug"></i> ุชุณุช ุงุชุตุงู
                  </button>
                </div>
                <small class="help-text">ุขุฏุฑุณ ุณุฑูุณ FastAPI ุจุฑุง ุชุดุฎุต ูพูุงฺฉ</small>
              </div>

              <div class="settings-group">
                <label class="setting-label">ุจุงุฒูโ ุจุฑูุฒุฑุณุงู (ุซุงูู)</label>
                <input type="number" id="refreshIntervalInput" class="form-input" min="1" max="60" value="3">
                <small class="help-text">ูุฑ ฺูุฏ ุซุงูู ูุชุงุฌ ุฌุฏุฏ ุจุฑุฑุณ ุดูุฏ</small>
              </div>

              <div class="settings-group">
                <label class="setting-label">ุชุนุฏุงุฏ ูุชุงุฌ ููุงุดโุฏุงุฏู ุดุฏู</label>
                <input type="number" id="resultsLimitInput" class="form-input" min="10" max="100" value="50">
                <small class="help-text">ุญุฏุงฺฉุซุฑ ุชุนุฏุงุฏ ูุชุงุฌ ุฏุฑ ูุฑ ุจุงุฑ ุจุงุฑฺฏุฐุงุฑ</small>
              </div>
            </div>

            <div class="settings-section">
              <h3 class="section-title">ุชูุธูุงุช ููุงุด</h3>
              <div class="settings-group">
                <label class="setting-label">ุชู</label>
                <div class="theme-selector">
                  <button class="theme-btn active" data-theme="dark">
                    <i class="fas fa-moon"></i> ุชุงุฑฺฉ
                  </button>
                  <button class="theme-btn" data-theme="light">
                    <i class="fas fa-sun"></i> ุฑูุดู
                  </button>
                </div>
              </div>

              <div class="settings-group">
                <label class="setting-label">ุฒุจุงู</label>
                <select class="form-input" id="languageSelect">
                  <option value="fa">ูุงุฑุณ</option>
                  <option value="en">English</option>
                </select>
              </div>
            </div>

            <div class="settings-section">
              <h3 class="section-title">ุฏุฑุจุงุฑู</h3>
              <div class="about-info">
                <p><strong>ูุงู ุจุฑูุงูู:</strong>ุณุงูุงูู ุชุดุฎุต ูพูุงฺฉ ูุฑุงุจฺฉ</p>
                <p><strong>ูุณุฎู:</strong> 1.0.0</p>
                <p><strong>sefro:</strong> ุชู ุชูุณุนู</p>
              </div>
            </div>

            <div class="settings-actions">
              <button class="btn btn-primary" id="saveSettingsBtn">
                <i class="fas fa-save"></i> ุฐุฎุฑู ุชูุธูุงุช
              </button>
              <button class="btn btn-secondary" id="resetSettingsBtn">
                <i class="fas fa-undo"></i> ุจุงุฒูุดุงู
              </button>
            </div>
          </div>
        </div>

        <!-- Discover Page -->
        <div class="page" id="discover-page">
          <div class="discover-container">
            <div class="discover-card">
              <div class="discover-header">
                <h2>ฺฉุดู ุฎูุฏฺฉุงุฑ ุฏูุฑุจู</h2>
                <p>ุงุทูุงุนุงุช ุฏูุฑุจู ุฑุง ูุงุฑุฏ ฺฉูุฏ ุชุง ุขุฏุฑุณ RTSP ุขู ฺฉุดู ุดูุฏ</p>
              </div>

              <form class="discover-form" id="discoverForm">
                <div class="form-row">
                  <div class="form-group">
                    <label>ุขุฏุฑุณ IP ุฏูุฑุจู</label>
                    <input type="text" id="discoverIp" class="form-input" placeholder="192.168.1.100" required>
                  </div>
                  <div class="form-group">
                    <label>ุจุฑูุฏ ุฏูุฑุจู</label>
                    <select id="discoverBrand" class="form-input">
                      <option value="">ุงูุชุฎุงุจ ุจุฑูุฏ</option>
                      <option value="hikvision">Hikvision</option>
                      <option value="dahua">Dahua</option>
                      <option value="reolink">Reolink</option>
                      <option value="axis">Axis</option>
                      <option value="generic">ุนููู</option>
                    </select>
                  </div>
                </div>

                <div class="form-row">
                  <div class="form-group">
                    <label>ูุงู ฺฉุงุฑุจุฑ</label>
                    <input type="text" id="discoverUser" class="form-input" placeholder="admin" required>
                  </div>
                  <div class="form-group">
                    <label>ุฑูุฒ ุนุจูุฑ</label>
                    <input type="password" id="discoverPass" class="form-input" placeholder="โขโขโขโขโขโขโขโข" required>
                  </div>
                </div>

                <button type="submit" class="btn btn-primary btn-large" id="discoverBtn">
                  <i class="fas fa-search"></i> ุดุฑูุน ฺฉุดู
                </button>
              </form>

              <div class="discover-results" id="discoverResults" style="display: none;">
                <h3>ูุชุงุฌ ฺฉุดู</h3>
                <div class="results-box" id="discoverResultsList"></div>
              </div>
            </div>

            <div class="discover-info">
              <h3>ูฺฉุงุช ููู</h3>
              <ul>
                <li>ุฏูุฑุจู ุจุงุฏ ุฏุฑ ุดุจฺฉู ูุงุจู ุฏุณุชุฑุณ ุจุงุดุฏ</li>
                <li>ูุงู ฺฉุงุฑุจุฑ ู ุฑูุฒ ุนุจูุฑ ุตุญุญ ูุงุฑุฏ ฺฉูุฏ</li>
                <li>ุจุฑูุฏ ุฏูุฑุจู ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ ุจุฑุง ูุชุงุฌ ุจูุชุฑ</li>
                <li>ูพุณ ุงุฒ ฺฉุดูุ ุขุฏุฑุณ ุฑุง ุฏุฑ ุชูุธูุงุช ุซุจุช ฺฉูุฏ</li>
              </ul>
            </div>
          </div>
        </div>

        <!-- Live Stream Page -->
        <div class="page" id="livestream-page">
          <div class="livestream-container">
            <div class="livestream-header">
              <div class="livestream-header-content">
                <h2>๐๏ธ ูุดุงูุฏู ุฒูุฏู ุฏูุฑุจูโูุง</h2>
                <p>ูุดุงูุฏู ุฌุฑุงู ุฒูุฏู ุฏูุฑุจูโูุง ฺฉุดู ุดุฏู</p>
              </div>
              <div class="livestream-header-actions">
                <button class="btn btn-primary" id="refreshLivestreamBtn">
                  <i class="fas fa-sync-alt"></i> ุจุฑูุฒุฑุณุงู
                </button>
              </div>
            </div>

            <div class="livestream-content" id="livestreamContent">
              <div class="empty-state" id="livestreamEmptyState">
                <i class="fas fa-video-slash"></i>
                <h3>ุฏูุฑุจู ุจุฑุง ููุงุด ูุฌูุฏ ูุฏุงุฑุฏ</h3>
                <p>ุงุจุชุฏุง ุงุฒ ุจุฎุด "ฺฉุดู ุฏูุฑุจู" ุฏูุฑุจูโูุง ุฎูุฏ ุฑุง ฺฉุดู ฺฉูุฏ</p>
                <button class="btn btn-primary" id="goToDiscoverBtn">
                  <i class="fas fa-search"></i> ุฑูุชู ุจู ฺฉุดู ุฏูุฑุจู
                </button>
              </div>

              <div class="livestream-grid" id="livestreamGrid" style="display: none;">
                <!-- Live streams will be added here dynamically -->
              </div>
            </div>
          </div>
        </div>
      </div>
    </main>
  </div>

  <!-- Toast Notifications -->
  <div class="toast-container" id="toastContainer"></div>

  <!-- Modal for Details -->
  <div class="modal" id="detailsModal">
    <div class="modal-content">
      <div class="modal-header">
        <h2>ุฌุฒุฆุงุช ูุชุฌู</h2>
        <button class="modal-close" id="closeModalBtn">&times;</button>
      </div>
      <div class="modal-body" id="modalBody">
        <!-- Details will be populated here -->
      </div>
    </div>
  </div>

  <script type="module" src="app.js"></script>
</body>
</html>
